{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAM,CACVC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,gBAC9BE,KAAMH,SAASC,cAAc,eAC7BG,OAAQJ,SAASC,cAAc,kBAyBjC,SAASI,EAAcC,EAAUJ,GAC/B,IAAMK,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAQ,uBAAwCG,OAAfR,EAAS,QAAYQ,OAANZ,EAAM,OAEpDU,EAAK,sBAAqCE,OAAfR,EAAS,QAAYQ,OAANZ,EAAM,SAEnDA,MA/BPJ,EAAIC,KAAKgB,iBAAiB,UAE1B,SAAsBC,GACpBA,EAAEC,iBAMF,IAJA,IAAMf,EAAQgB,SAASpB,EAAII,MAAMiB,OAC3BhB,EAAOe,SAASpB,EAAIK,KAAKgB,OACzBf,EAASc,SAASpB,EAAIM,OAAOe,OAE1BC,EAAI,EAAGA,GAAKhB,EAAQgB,GAAK,EAChCf,EAAce,EAAGlB,EAAQC,GAAQiB,EAAI,IAClCC,MAAK,SAAAF,GACJvB,EAAA0B,OAAOC,QAAQJ,MAEhBK,OAAM,SAAAL,GACLvB,EAAA0B,OAAOG,QAAQN,MAIrBH,EAAEU,OAAOC,W","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\r\n\r\nconst ref = {\r\n  form: document.querySelector('form'),\r\n  delay: document.querySelector('[data-delay]'),\r\n  step: document.querySelector('[data-step]'),\r\n  amount: document.querySelector('[data-amount]'),\r\n};\r\n\r\nref.form.addEventListener('submit', onFormSubmit);\r\n\r\nfunction onFormSubmit(e) {\r\n  e.preventDefault();\r\n\r\n  const delay = parseInt(ref.delay.value);\r\n  const step = parseInt(ref.step.value);\r\n  const amount = parseInt(ref.amount.value);\r\n\r\n  for (let i = 1; i <= amount; i += 1) {\r\n    createPromise(i, delay + step * (i - 1))\r\n      .then(value => {\r\n        Notify.success(value);\r\n      })\r\n      .catch(value => {\r\n        Notify.failure(value);\r\n      });\r\n  }\r\n\r\n  e.target.reset();\r\n}\r\n\r\nfunction createPromise(position, delay) {\r\n  const shouldResolve = Math.random() > 0.3;\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (shouldResolve) {\r\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\r\n      } else {\r\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\r\n      }\r\n    }, delay);\r\n  });\r\n}\r\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$ref","form","document","querySelector","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","addEventListener","e","preventDefault","parseInt","value","i","then","Notify","success","catch","failure","target","reset"],"version":3,"file":"03-promises.82aef745.js.map"}